(()=>{"use strict";var e={625:(e,t,n)=>{e.exports=n.p+"d7a028ba66350ec29c54.jpg"},741:(e,t,n)=>{e.exports=n.p+"0ef95b699eb9b058a0d0.jpg"},478:(e,t,n)=>{e.exports=n.p+"566fbb83cfb32349e01d.jpg"},383:(e,t,n)=>{e.exports=n.p+"0a068355c25335ad73e6.jpg"},242:(e,t,n)=>{e.exports=n.p+"67b98bd2e15760bf5737.jpg"},681:(e,t,n)=>{e.exports=n.p+"b25a96a15297fdd8a8b4.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{n(242),n(681),n(478),n(383),n(625),n(741);var e={formSelector:".popup__container",fieldsetSelector:".popup__form",inputSelector:".popup__form-item",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_inactive",errorClass:"popup__form-item_error"},t=document.querySelector('.popup[data-type="account"]'),r=document.querySelector(".profile__edit-button"),o=document.forms.account,i=o.elements.username,a=o.elements.description,c=document.querySelector('.popup[data-type="place"]'),u=document.querySelector(".profile__add-button"),s=document.forms.place,l=(s.elements.title,s.elements.link,document.querySelector('.popup[data-type="confirm-delete"]')),f=document.forms.avatar,p=document.querySelector('.popup[data-type="avatar"]'),h=document.querySelector(".profile__avatar"),d={name:document.querySelector(".profile__name"),about:document.querySelector(".profile__description"),avatar:document.querySelector(".profile__avatar-image")},y=document.querySelector('.popup[data-type="lightbox"]'),_=document.querySelector(".cards__items");function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"_fetchButCatch",value:function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(new Error("Ошибка: ".concat(res.status)))}))}},{key:"getUser",value:function(){return this._fetchButCatch("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"setUser",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}},{key:"setAvatar",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}},{key:"uploadCard",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}},{key:"getCards",value:function(){return this._fetchButCatch("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"deleteCard",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers})}},{key:"setLike",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"PUT",headers:this._headers})}},{key:"removeLike",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"DELETE",headers:this._headers})}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fieldsetSelector=t.fieldsetSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._errorClass=t.errorClass,this._form=n,this._submitBtn=this._form.querySelector(this._submitButtonSelector),this._inputList=Array.from(this._form.querySelectorAll(t.inputSelector))}var t,n;return t=e,(n=[{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e,e.validationMessage):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){this._form.querySelector("#".concat(e.id,"-error")).textContent=t,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_enableBtn",value:function(){this._submitBtn.classList.remove(this._inactiveButtonClass),this._submitBtn.disabled=!1}},{key:"_disableBtn",value:function(){this._submitBtn.classList.add(this._inactiveButtonClass),this._submitBtn.disabled=!0}},{key:"_toggleButtonState",value:function(e){this._hasInvalidInput(e)?this._disableBtn():this._enableBtn()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(this._inputList),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState(e._inputList)}))}))}},{key:"removeErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._disableBtn()})),this._setEventListeners()}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardTitle=t.data.name,this._cardImage=t.data.link,this.cardLikes=t.data.likes,this._cardOwner=t.data.owner,this._templateSelector=n,this._handleCardClick=t.handleCardClick,this._handleLikeClick=t.handleLikeClick,this._handleDeleteClick=t.handleDeleteIconClick,this._userID=t.myId}var t,n;return t=e,(n=[{key:"_cloneTemplate",value:function(){this._cardElement=document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",this._handleLikeClick),this._deleteButton.addEventListener("click",this._handleDeleteClick),this._cardImageElement.addEventListener("click",(function(){e._handleCardClick({name:e._cardTitle,link:e._cardImage})}))}},{key:"generateCard",value:function(){return this._cloneTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardTitleElement=this._cardElement.querySelector(".card__title"),this._cardLikesElement=this._cardElement.querySelector(".card__likes"),this._cardImageElement.src=this._cardImage,this._cardTitleElement.textContent=this._cardTitle,this._cardImageElement.alt=this._cardTitle,this.renderAmountOfLikes(this.cardLikes.length),this.youLiked()&&this.toggleLikeBtnState(),this._setEventListeners(),this._checkOwner(),this._yourCard||this._deleteButton.remove(),this._cardElement}},{key:"renderAmountOfLikes",value:function(e){this._cardLikesElement.textContent=e}},{key:"youLiked",value:function(){var e=this;return this.cardLikes.some((function(t){return t._id===e._userID}))}},{key:"toggleLikeBtnState",value:function(){this._likeButton.classList.toggle("card__like-button_active")}},{key:"removeCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_checkOwner",value:function(){this._cardOwner._id===this._userID?this._yourCard=!0:this._yourCard=!1}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t.renderer,this._containerElement=t.containerElement}var t,n;return t=e,(n=[{key:"render",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._containerElement.prepend(e)}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._openedSelector="popup_opened",this._handleEscCloseWrapper=this._handleEscClose.bind(this),this._handleMainCloseWrapper=this._handleMainClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleMainClose",value:function(e){(e.target.classList.contains("popup")||e.target.classList.contains("popup__close-button"))&&this.close()}},{key:"open",value:function(){this._popup.classList.add(this._openedSelector),document.addEventListener("keyup",this._handleEscCloseWrapper)}},{key:"close",value:function(){this._popup.classList.remove(this._openedSelector),document.removeEventListener("keyup",this._handleEscCloseWrapper)}},{key:"setEventListeners",value:function(){this._popup.addEventListener("click",this._handleMainCloseWrapper)}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function x(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var q=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(c,t);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(o);if(i){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function c(t,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(o=a.call(this,t))._popup=t,o._submitCallback=n,o._submitButton=o._popup.querySelector(".popup__container"),o._form=o._popup.querySelector(e.formSelector),o._inputSelector=e.inputSelector,o._closeCallback=r,o}return n=c,(r=[{key:"_getInputValues",value:function(){return Object.values(this._form).reduce((function(e,t){return e[t.name]=t.value,e}),{})}},{key:"setEventListeners",value:function(){var e=this;B(T(c.prototype),"setEventListeners",this).call(this),this._submitButton.addEventListener("submit",(function(t){t.preventDefault(),e._submitCallback(e._getInputValues(),t)}))}},{key:"close",value:function(){this._submitButton.removeEventListener("submit",this._submitCallback),B(T(c.prototype),"close",this).call(this),this._form.reset(),this._closeCallback()}}])&&j(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(O);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=A(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function A(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function V(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(r);if(o){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popup=e,t._lightboxCaption=t._popup.querySelector(".lightbox__caption"),t._lightboxImage=t._popup.querySelector(".lightbox__image"),t}return t=a,(n=[{key:"open",value:function(e){this._lightboxCaption.textContent=e.name,this._lightboxImage.src=e.link,this._lightboxImage.alt=e.name,D(M(a.prototype),"open",this).call(this)}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(O);function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=t.name,this._userDescriptionElement=t.about,this._userAvatarElement=t.avatar}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{name:this._userNameElement.textContent,about:this._userDescriptionElement.textContent}}},{key:"setUserInfo",value:function(e){this._userNameElement.textContent=e.name,this._userDescriptionElement.textContent=e.about,this.setUserAvatar(e.avatar)}},{key:"setUserAvatar",value:function(e){this._userAvatarElement.src=e}}],n&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=G(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},z.apply(this,arguments)}function G(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function Q(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(r);if(o){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popup=e,n._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__container"),n._submitButton=n._form.querySelector(".popup__save-button"),n._element=null,n._obj=null,n}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;z(X(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._element,e._obj,t)}))}},{key:"open",value:function(e,t){this._element=e,this._obj=t,z(X(a.prototype),"open",this).call(this)}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(O),Z=new b({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-16",headers:{authorization:"25068d5b-79ef-423f-8b22-b9922c31ad6c","Content-Type":"application/json"}}),ee=new C({renderer:function(e){var t=ne(e).generateCard();ee.addItem(t)},containerElement:_});function te(e,t){e.target.querySelector(".popup__save-button").textContent=t}function ne(e){var t=new E({data:e,handleCardClick:function(e){ce.open(e)},handleLikeClick:function(){t.youLiked()?Z.removeLike(e).then((function(e){t.cardLikes=e.likes,t.renderAmountOfLikes(e.likes.length)})).then(t.toggleLikeBtnState()).catch((function(e){return console.log("Ошибка при удалении лайка: ".concat(e))})):Z.setLike(e).then((function(e){t.cardLikes=e.likes,t.renderAmountOfLikes(e.likes.length)})).then(t.toggleLikeBtnState()).catch((function(e){return console.log("Ошибка при добавлении лайка: ".concat(e))}))},handleDeleteIconClick:function(){re.open(t,e)},myId:"7f651893ffa284663c078177"},"#card");return t}var re=new Y(l,(function(e,t,n){te(n,"Удаление..."),Z.deleteCard(t).then(e.removeCard()).then((function(){re.close(),te(n,"Да")})).catch((function(e){return console.log("Ошибка при удалении карточки: ".concat(e))}))}));re.setEventListeners();var oe=new q(p,(function(e,t){te(t,"Сохранение..."),Z.setAvatar(e.link).then((function(e){ie.setUserAvatar(e.avatar)})).then((function(){oe.close(),te(t,"Сохранить")})).catch((function(e){return console.log("Ошибка при изменении аватара: ".concat(e))}))}),(function(){fe.removeErrors()}));oe.setEventListeners(),h.addEventListener("click",(function(){oe.open()}));var ie=new J(d),ae=new q(t,(function(e,t){te(t,"Сохранение..."),Z.setUser(e).then((function(e){ie.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})).then((function(){ae.close(),te(t,"Сохранить")})).catch((function(e){return console.log("Ошибка при изменении данных профиля: ".concat(e))}))}),(function(){se.removeErrors()}));ae.setEventListeners(),r.addEventListener("click",(function(){var e=ie.getUserInfo(),t=e.name,n=e.about;i.value=t,a.value=n,ae.open()}));var ce=new W(y);ce.setEventListeners();var ue=new q(c,(function(e,t){te(t,"Добавление...");var n={name,link};n.name=e.title,n.link=e.link,Z.uploadCard(n).then((function(e){var t=ne(e).generateCard();ue.close(),ee.addItem(t)})).then((function(){te(t,"Сохранить")})).catch((function(e){return console.log("Ошибка при добавлении карточки: ".concat(e))}))}),(function(){le.removeErrors()}));ue.setEventListeners(),u.addEventListener("click",(function(){ue.open()})),Promise.all([Z.getUser(),Z.getCards()]).then((function(e){return console.log("Подключено к серверу и работает!"),{user:e[0],cards:e[1]}})).then((function(e){return ie.setUserInfo(e.user),e})).then((function(e){return e.cards.reverse()})).then((function(e){ee.render(e)})).catch((function(e){return console.log("Ошибка при попытке загрузить данные пользователя и карточки: ".concat(e))}));var se=new k(e,o);se.enableValidation();var le=new k(e,s);le.enableValidation();var fe=new k(e,f);fe.enableValidation()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T3NKLEdBQVdsRyxFQUFLLGdCQUM1QnlHLE9BQU0sU0FBQ0MsR0FBRCxPQUFXQyxRQUFRQyxJQUFSLDBDQUErQ0YsVUFFbkUsV0FDRXNCLEdBQW1CVixrQkFJdkJNLEdBQWNWLG9CQUVkN0wsRUFBZXlFLGlCQUFpQixTQUFTLFdBQ3ZDOEgsR0FBY3JCLFVBT2hCdkosUUFBUWlMLElBQUksQ0FDVnRDLEVBQUl1QyxVQUNKdkMsRUFBSXdDLGFBRUh2TCxNQUFLLFNBQUF3RCxHQUE0RCxPQUFqRHVHLFFBQVFDLElBQUksb0NBQTRDLENBQUN3QixLQUFNaEksRUFBTyxHQUFJaUksTUFBT2pJLEVBQU8sT0FDeEd4RCxNQUFLLFNBQUEyRCxHQUEwQyxPQUFqQzRFLEdBQVNzQyxZQUFZbEgsRUFBSzZILE1BQWM3SCxLQUN0RDNELE1BQUssU0FBQTJELEdBQVMsT0FBT0EsRUFBSzhILE1BQU1DLGFBQ2hDMUwsTUFBSyxTQUFBMkwsR0FBZ0IxQyxHQUFRMkMsT0FBT0QsTUFDcEM5QixPQUFNLFNBQUNDLEdBQUQsT0FBV0MsUUFBUUMsSUFBUix1RUFBNEVGLE9BTWhHLElBQU1nQixHQUF1QixJQUFJN0osRUFBYzNELEVBQVFVLEdBQ3ZEOE0sR0FBcUJlLG1CQUVyQixJQUFNVCxHQUFxQixJQUFJbkssRUFBYzNELEVBQVFvQixHQUNyRDBNLEdBQW1CUyxtQkFFbkIsSUFBTXBCLEdBQXNCLElBQUl4SixFQUFjM0QsRUFBUXlCLEdBQ3REMEwsR0FBb0JvQixvQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiLyogLS0tLS0tLS0tLSDQlNC10YTQvtC70YLQvdGL0LUg0LrQsNGA0YLQvtGH0L7QutC4IC0tLS0tLS0tLS0gKi9cbmltcG9ydCBwb2tyb3ZrYUltYWdlIGZyb20gJy4uL2ltYWdlcy9jYXJkX19Qb2tyb3ZrYS5qcGcnO1xuaW1wb3J0IFRTVU1JbWFnZSBmcm9tICcuLi9pbWFnZXMvY2FyZF9fVGVhdHJhbG55alByb2V6ZC5qcGcnO1xuaW1wb3J0IE1vc2Nvd0NpdHlJbWFnZSBmcm9tICcuLi9pbWFnZXMvY2FyZF9fTW9zY293Q2l0eS5qcGcnO1xuaW1wb3J0IE15YXNuaXRza2F5YUltYWdlIGZyb20gJy4uL2ltYWdlcy9jYXJkX19NeWFzbmlja2F5YS5qcGcnXG5pbXBvcnQgQ2hlcnRhbm92b0ltYWdlIGZyb20gJy4uL2ltYWdlcy9jYXJkX19DaGVydGFub3ZvLmpwZyc7XG5pbXBvcnQgRG9icnluaW5za2F5YUltYWdlIGZyb20gJy4uL2ltYWdlcy9jYXJkX19Eb2JyeW5pbnNrYXlhLmpwZyc7XG5cbi8vIGV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4vLyAgIHtcbi8vICAgICAgIHRpdGxlOiAn0J/QvtC60YDQvtCy0LrQsCcsXG4vLyAgICAgICBsaW5rOiBwb2tyb3ZrYUltYWdlXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICAgIHRpdGxlOiAn0KbQo9CcJyxcbi8vICAgICAgIGxpbms6IFRTVU1JbWFnZVxuLy8gICB9LFxuLy8gICB7XG4vLyAgICAgICB0aXRsZTogJ9Cc0L7RgdC60LLQsC3RgdC40YLQuCcsXG4vLyAgICAgICBsaW5rOiBNb3Njb3dDaXR5SW1hZ2Vcbi8vICAgfSxcbi8vICAge1xuLy8gICAgICAgdGl0bGU6ICfQnNGP0YHQvdC40YbQutCw0Y8nLFxuLy8gICAgICAgbGluazogTXlhc25pdHNrYXlhSW1hZ2Vcbi8vICAgfSxcbi8vICAge1xuLy8gICAgICAgdGl0bGU6ICfQp9C10YDRgtCw0L3QvtCy0L4nLFxuLy8gICAgICAgbGluazogQ2hlcnRhbm92b0ltYWdlXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICAgIHRpdGxlOiAn0LzQtdGC0YDQviDQlNC+0LHRgNGL0L3QuNC90YHQutCw0Y8nLFxuLy8gICAgICAgbGluazogRG9icnluaW5za2F5YUltYWdlXG4vLyAgIH1cbi8vIF07XG5cbi8vIC8qIC0tLS0tLS0tLS0g0JTQtdGE0L7Qu9GC0L3Ri9C5INGO0LfQtdGAIC0tLS0tLS0tLS0gKi9cbi8vIGV4cG9ydCBjb25zdCBpbml0aWFsVXNlciA9IHtcbi8vICAgdXNlcm5hbWU6ICfQltCw0Lot0JjQsiDQmtGD0YHRgtC+Jyxcbi8vICAgZGVzY3JpcHRpb246ICfQmNGB0YHQu9C10LTQvtCy0LDRgtC10LvRjCDQvtC60LXQsNC90LAnXG4vLyB9XG5cbi8qIC0tLS0tLS0tLS0g0JrQvtC90YTQuNCz0YPRgNCw0YbQuNGPINC00LvRjyBGb3JtVmFsaWRhdG9yLmpzINC4IFBvcHVwV2l0aEZvcm0uanMgLS0tLS0tLS0tLSAqL1xuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19jb250YWluZXInLFxuICBmaWVsZHNldFNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9fZm9ybS1pdGVtJyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3NhdmUtYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zYXZlLWJ1dHRvbl9pbmFjdGl2ZScsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9fZm9ybS1pdGVtX2Vycm9yJ1xufVxuXG4vLyDQkNC60LrQsNGD0L3RgiDigJQg0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+XG5leHBvcnQgY29uc3QgYWNjb3VudFBvcFVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwW2RhdGEtdHlwZT1cImFjY291bnRcIl0nKTsgLy8gW9CQ0LrQutCw0YPQvdGCXSDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L5cbmV4cG9ydCBjb25zdCBhY2NvdW50RWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpOyAvLyBb0JDQutC60LDRg9C90YJdINCa0L3QvtC/0LrQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG4vLyDQkNC60LrQsNGD0L3RgiDigJQg0KTQvtGA0LzQsFxuZXhwb3J0IGNvbnN0IGFjY291bnRGb3JtID0gZG9jdW1lbnQuZm9ybXMuYWNjb3VudDtcbmV4cG9ydCBjb25zdCBhY2NvdW50SW5wdXROYW1lID0gYWNjb3VudEZvcm0uZWxlbWVudHMudXNlcm5hbWU7XG5leHBvcnQgY29uc3QgYWNjb3VudElucHV0RGVzYyA9IGFjY291bnRGb3JtLmVsZW1lbnRzLmRlc2NyaXB0aW9uO1xuXG4vLyDQnNC10YHRgtC+IOKAlCDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L5cbmV4cG9ydCBjb25zdCBwbGFjZVBvcFVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwW2RhdGEtdHlwZT1cInBsYWNlXCJdJyk7IC8vIFvQnNC10YHRgtC+XSDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L5cbmV4cG9ydCBjb25zdCBwbGFjZUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7IC8vIFvQnNC10YHRgtC+XSDQmtC90L7Qv9C60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7Qs9C+INC80LXRgdGC0LBcbi8vINCc0LXRgdGC0L4g4oCUINCk0L7RgNC80LBcbmV4cG9ydCBjb25zdCBwbGFjZUZvcm0gPSBkb2N1bWVudC5mb3Jtcy5wbGFjZTsgLy8g0KTQvtGA0LzQsCDQnNC10YHRgtC+XG5leHBvcnQgY29uc3QgcGxhY2VJbnB1dFRpdGxlID0gcGxhY2VGb3JtLmVsZW1lbnRzLnRpdGxlOyAvLyDQmNC90L/Rg9GCIC0g0L3QsNC30LLQsNC90LjQtSDQvNC10YHRgtCwXG5leHBvcnQgY29uc3QgcGxhY2VJbnB1dExpbmsgPSBwbGFjZUZvcm0uZWxlbWVudHMubGluazsgLy8g0JjQvdC/0YPRgiAtINGB0YHRi9C70LrQsCDQvdCwINC40LfQvtCx0YDQsNC20LXQvdC40LVcblxuLy8g0J/QvtC00YLQstC10YDQttC00LXQvdC40LUg0YPQtNCw0LvQtdC90LjRjyDigJQg0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+XG5leHBvcnQgY29uc3QgY29uZmlybVBvcFVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwW2RhdGEtdHlwZT1cImNvbmZpcm0tZGVsZXRlXCJdJyk7XG5leHBvcnQgY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LmZvcm1zLmF2YXRhcjtcblxuLy8g0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQsNCy0LDRgtCw0YDQsCDigJQg0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+XG5leHBvcnQgY29uc3QgYXZhdGFyUG9wVXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBbZGF0YS10eXBlPVwiYXZhdGFyXCJdJyk7XG5leHBvcnQgY29uc3QgY2hhbmdlQXZhdGFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuLy8gZXhwb3J0IGNvbnN0IGF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWltYWdlJyk7XG5cbi8vINCY0LzRjyDQuCDQntC/0LjRgdCw0L3QuNC1INC/0YDQvtGE0LjQu9GPXG5leHBvcnQgY29uc3QgdXNlckVsZW1lbnRzID0ge1xuICBuYW1lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpLCAvLyDQmNC80Y8g0L/RgNC+0YTQuNC70Y9cbiAgYWJvdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19kZXNjcmlwdGlvbicpLCAvLyDQntC/0LjRgdCw0L3QuNC1INCf0YDQvtGE0LjQu9GPXG4gIGF2YXRhcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1pbWFnZScpXG59XG5cbi8vIExpZ2h0Ym94XG5leHBvcnQgY29uc3QgbGlnaHRib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBbZGF0YS10eXBlPVwibGlnaHRib3hcIl0nKTtcblxuLy8g0J/QvtC70YPRh9Cw0LXQvCDQutC+0L3RgtC10LnQvdC10YAgdWwg0LTQu9GPINCy0YHQtdGFINC60LDRgNGC0L7Rh9C10LpcbmV4cG9ydCBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19faXRlbXMnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4vLyBnZXRDYXJkcygpOiDQv9C+0LvRg9GH0LjRgtGMINGB0L/QuNGB0L7QuiDQstGB0LXRhSDQutCw0YDRgtC+0YfQtdC6INGBINGB0LXRgNCy0LXRgNCwINCyINCy0LjQtNC1INC80LDRgdGB0LjQstCwIChHRVQpXG4vLyBnZXRVc2VyKCk6INC/0L7Qu9GD0YfQuNGC0Ywg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQvdCwINGB0LXRgNCy0LXRgNC1ICAoR0VUKVxuLy8gc2V0VXNlcigpOiDQt9Cw0LzQtdC90LjRgtGMINC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0L3QsCDRgdC10YDQstC10YDQtSAoUEFUQ0gpXG4vLyB1cGxvYWRDYXJkKCk6INC00L7QsdCw0LLQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRgyDQvdCwINGB0LXRgNCy0LXRgCAoUE9TVClcbi8vIGRlbGV0ZUNhcmQoKTog0YPQtNCw0LvQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRgyAoREVMRVRFKVxuLy8gc2V0QXZhdGFyKCk6INC30LDQvNC10L3QuNGC0Ywg0LDQstCw0YLQsNGAIChQQVRDSClcbi8vIHNldExpa2UoKTog0LfQsNC70LDQudC60LDRgtGMINC60LDRgNGC0L7Rh9C60YMgKFBVVClcbi8vIHJlbW92ZUxpa2UoKTog0YPQtNCw0LvQuNGC0Ywg0LvQsNC50Log0LrQsNGA0YLQvtGH0LrQuCAoREVMRVRFKVxuXG4gIGNvbnN0cnVjdG9yKHtiYXNlVXJsLCBoZWFkZXJzfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2ZldGNoQnV0Q2F0Y2godXJsLCBpbml0KSB7XG4gICAgcmV0dXJuIGZldGNoKHVybCwgaW5pdClcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKSlcbiAgICB9KVxuICB9XG5cbiAgZ2V0VXNlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2hCdXRDYXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICB9XG5cbiAgc2V0VXNlcih1c2VyRGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9mZXRjaEJ1dENhdGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgICAgYWJvdXQ6IHVzZXJEYXRhLmFib3V0XG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgc2V0QXZhdGFyKGltZ1NyYykge1xuICAgIHJldHVybiB0aGlzLl9mZXRjaEJ1dENhdGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogaW1nU3JjXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgdXBsb2FkQ2FyZChjYXJkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoQnV0Q2F0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGNhcmQubmFtZSxcbiAgICAgICAgbGluazogY2FyZC5saW5rXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgZ2V0Q2FyZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoQnV0Q2F0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZCkge1xuICAgIHJldHVybiB0aGlzLl9mZXRjaEJ1dENhdGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZC5faWR9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KTtcbiAgfVxuXG4gIHNldExpa2UoY2FyZCkge1xuICAgIHJldHVybiB0aGlzLl9mZXRjaEJ1dENhdGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZC5faWR9YCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoY2FyZCkge1xuICAgIHJldHVybiB0aGlzLl9mZXRjaEJ1dENhdGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZC5faWR9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KTtcbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgLypcbiAg4oCU4oCUIGVuYWJsZVZhbGlkYXRpb246XG4gINC40LfQsdCw0LLQu9GP0LXQvNGB0Y8g0L7RgiDQtNC10YTQvtC70YIuINC/0L7QstC10LTQtdC90LjRjyDRhNC+0YDQvNGLO1xuICDQutC90L7Qv9C60LAg0LIgZGlzYmFsZWQg0L/QvtGB0LvQtSDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80YsuXG5cbiAg4oazIOKAlOKAlCBfZ2V0RmllbGRTZXRzOiDQvdCw0YXQvtC00LjQvCDQstGB0LUg0YTQuNC70LTRgdC10YLRiyDRhNC+0YDQvNGLO1xuICAgIOKGsyDigJTigJQgX3NldEV2ZW50TGlzdGVuZXJzOiBpbnB1dCBFdmVudExpc3RlbmVyINC90LAg0LrQsNC20LTRi9C5INC40L3Qv9GD0YIg0LIg0YTQuNC70LTRgdC10YLQtSAvINC/0YDQvtCy0LXRgNGP0LXQvCDQvdCw0YfQsNC70YzQvdGL0Lkg0YHRgtCw0YLRg9GBIHN1Ym1pdDtcbiAgICAgIOKGsyDigJTigJQgX3RvZ2dsZUJ1dHRvblN0YXRlOiDQv9C10YDQtdC60LvRjtGH0LDQtdGCIHN1Ym1pdCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0YDQtdC30YPQu9GM0YLQsNGC0LAgX2hhc0ludmFsaWRJbnB1dFxuICAgICAgICDihrMg4oCU4oCUIF9oYXNJbnZhbGlkSW5wdXQ6INC/0YDQvtCy0LXRgNGP0LXRgiDRhNC+0YDQvNGDINC90LAg0L3QsNC70LjRh9C40LUg0L3QtdCy0LDQu9C40LTQvdGL0YUg0LjQvdC/0YPRgtC+0LJcbiAgICAgICAg4oazIOKAlOKAlCBfZGlzYWJsZUJ0bjogc3VibWl0INCyIGRpc2FibGVkO1xuICAgICAgICDihrMg4oCU4oCUIF9lbmFibGVCdG46IHN1Ym1pdCDQsiBlbmFibGVkO1xuICAgICAg4oazIOKAlOKAlCBfY2hlY2tJbnB1dFZhbGlkaXR5OiDQv9GA0L7QstC10YDRj9C10YIg0LLQsNC70LjQtNC90L7RgdGC0Ywg0LjQvdC/0YPRgtCwO1xuICAgICAgICDihrMg4oCU4oCUIF9zaG93SW5wdXRFcnJvcjog0L/QvtC60LDQt9GL0LLQsNC10Lwg0L7RiNC40LHQutGDO1xuICAgICAgICDihrMg4oCU4oCUIF9oaWRlSW5wdXRFcnJvcjog0YHQutGA0YvQstCw0LXQvCDQvtGI0LjQsdC60YMuXG5cbiAg4oCU4oCUIHJlbW92ZUVycm9yczpcbiAg0JzQtdGC0L7QtCDRg9Cx0LjRgNCw0LXRgiDRgdC+0L7QsdGJ0LXQvdC40Y8g0L7QsSDQvtGI0LjQsdC60LDRhSDQuNC3INGE0L7RgNC80YsuXG4gICovXG5cbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtKSB7XG4gICAgdGhpcy5fZmllbGRzZXRTZWxlY3RvciA9IGNvbmZpZy5maWVsZHNldFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG5cbiAgICB0aGlzLl9mb3JtID0gZm9ybTsgLy8g0JLQsNC70LjQtNC40YDRg9C10LzQsNGPINGE0L7RgNC80LBcbiAgICB0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpIC8vINCa0L3QvtC/0LrQsCBTdWJtaXRcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpOyAvLyDQnNCw0YHRgdC40LIg0LLRgdC10YUg0LjQvdC/0YPRgtC+0LIg0YTQvtGA0LzRi1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcbiAgICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRWYWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gIWlucHV0VmFsdWUudmFsaWRpdHkudmFsaWQ7XG4gICAgICB9KVxuICB9XG5cbiAgX2VuYWJsZUJ0bigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF9kaXNhYmxlQnRuKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ0bi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0KSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlQnRuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ0bigpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9pbnB1dExpc3QpOyAvLyDQntC/0YDQtdC00LXQu9C40Lwg0L3QsNGH0LDQu9GM0L3Ri9C5INGB0YLQsNGC0YPRgSDQutC90L7Qv9C60Lggc3VibWl0XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgLy8g0JTQu9GPINC60LDQttC+0LPQviDQuNC90L/Rg9GC0LAuLlxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAvLyAuLtGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAvLyAuLtGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINC/0LXRgNC10LrQu9GO0YfQtdC90LjQtSBzdWJtaXQ6XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuX2lucHV0TGlzdClcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlRXJyb3JzKCkge1xuICAgIC8vINCc0LXRgtC+0LQg0YPQsdC40YDQsNC10YIg0YHQvtC+0LHRidC10L3QuNGPINC+0LEg0L7RiNC40LHQutCw0YU6XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdG4oKTtcbiAgICB9KVxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlcywgdGVtcGxhdGVTZWxlY3Rvcikge1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHZhbHVlcy5kYXRhLm5hbWU7IC8vINCd0LDQt9Cy0LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHZhbHVlcy5kYXRhLmxpbms7IC8vINCh0YHRi9C70LrQsCDQvdCwINC40LfQvtCx0YDQsNC20LXQvdC40LVcbiAgICB0aGlzLmNhcmRMaWtlcyA9IHZhbHVlcy5kYXRhLmxpa2VzOyAvLyDQnNCw0YHRgdC40LIg0LvQsNC50LrQvtCyXG4gICAgdGhpcy5fY2FyZE93bmVyID0gdmFsdWVzLmRhdGEub3duZXI7IC8vIElEINCy0LvQsNC00LXQu9GM0YbQsCDQutCw0YDRgtC+0YfQutC4XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gdmFsdWVzLmhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSB2YWx1ZXMuaGFuZGxlTGlrZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gdmFsdWVzLmhhbmRsZURlbGV0ZUljb25DbGljaztcblxuICAgIHRoaXMuX3VzZXJJRCA9IHZhbHVlcy5teUlkO1xuICB9XG5cbiAgX2Nsb25lVGVtcGxhdGUoKSB7XG4gICAgLy8g0JrQu9C+0L3QuNGA0YPQtdGCIHRlbXBsYXRlINC4INC30LDQv9C40YHRi9Cy0LDQtdGCINC/0YPRgdGC0L7QuSDQutC70L7QvSDQsiB0aGlzLl9jYXJkRWxlbWVudDpcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAuY29udGVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyDQlNC+0LHQsNC70Y/QtdC8INGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINC60L3QvtC/0LrRgyDQu9Cw0LnQutCwOlxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVMaWtlQ2xpY2spXG5cbiAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0LrQvdC+0L/QutGDINC60L7RgNC30LjQvdGLOlxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKTtcblxuICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDRgdC70YPRiNCw0YLQtdC70YwgbGlnaHRib3g6XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsXG4gICAgKCkgPT4ge3RoaXMuX2hhbmRsZUNhcmRDbGljayh7bmFtZTogdGhpcy5fY2FyZFRpdGxlLCBsaW5rOiB0aGlzLl9jYXJkSW1hZ2V9KX0pO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2Nsb25lVGVtcGxhdGUoKTsgLy8g0L/QvtC70YPRh9Cw0LXQvCDRgNCw0LfQvNC10YLQutGDINC/0YPRgdGC0L7QuSDQutCw0YDRgtC+0YfQutC4INC40LcgdGVtcGxhdGVcblxuICAgIC8vINCf0L7Qu9GD0YfQsNC10Lwg0YDQsNC30LzQtdGC0LrRgyDQutC90L7Qv9C+0Log0LvQsNC50LrQsCDQuCDQutC+0YDQt9C40L3Ri1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlLWJ1dHRvbicpO1xuXG4gICAgLy8g0J3QsNGF0L7QtNC40Lwg0YDQsNC30LzQtdGC0LrRgyDQuNC30L7QsdGA0LDQttC10L3QuNGPINC4INC30LDQs9C+0LvQvtCy0LrQsDpcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XG4gICAgdGhpcy5fY2FyZFRpdGxlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190aXRsZScpO1xuICAgIHRoaXMuX2NhcmRMaWtlc0VsZW1lbnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZXMnKTtcblxuICAgIC8vINCf0L7QtNGB0YLQsNCy0LvRj9C10Lwg0L3QsNC30LLQsNC90LjQtSDQuCDQuNC30L7QsdGA0LDQttC10L3QuNC1INC4IGFsdCDQsiDQv9GD0YHRgtGD0Y4g0LrQsNGA0YLQvtGH0LrRgzpcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2NhcmRJbWFnZTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fY2FyZFRpdGxlO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5fY2FyZFRpdGxlO1xuXG4gICAgLy8g0J/QvtC00YHRgtCw0LLQu9GP0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9Cw0LnQutC+0LI6XG4gICAgdGhpcy5yZW5kZXJBbW91bnRPZkxpa2VzKHRoaXMuY2FyZExpa2VzLmxlbmd0aCk7XG5cbiAgICAvLyDQn9C+0LTRgdGC0LDQstC70Y/QtdC8INC90LDQttCw0YLRi9C5INC70LDQudC6OlxuICAgIGlmICh0aGlzLnlvdUxpa2VkKCkpIHtcbiAgICAgIHRoaXMudG9nZ2xlTGlrZUJ0blN0YXRlKCk7XG4gICAgfVxuXG4gICAgLy8g0J3QsNCy0LXRiNC40LLQsNC10Lwg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0YHQvtCx0YvRgtC40Lk6XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIC8vIC8vINCj0LTQsNC70Y/QtdC8INC60L7RgNC30LjQvdGDINC90LAg0YfRg9C20LjRhSDQutCw0YDRgtC+0YfQutCw0YU6XG4gICAgdGhpcy5fY2hlY2tPd25lcigpO1xuICAgIGlmICghdGhpcy5feW91ckNhcmQpIHtcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXQvCDQs9C+0YLQvtCy0YPRjiDQutCw0YDRgtC+0YfQutGDXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG5cbiAgcmVuZGVyQW1vdW50T2ZMaWtlcyhzb3VyY2UpIHtcbiAgICB0aGlzLl9jYXJkTGlrZXNFbGVtZW50LnRleHRDb250ZW50ID0gc291cmNlO1xuICB9XG5cbiAgeW91TGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FyZExpa2VzLnNvbWUoY2FyZExvdmVyID0+IHtcbiAgICAgIHJldHVybiAoY2FyZExvdmVyLl9pZCA9PT0gdGhpcy5fdXNlcklEKVxuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlTGlrZUJ0blN0YXRlKCkge1xuICAgIC8vINCh0YLQsNCy0LjRgiAvINGD0LTQsNC70Y/QtdGCINC70LDQudC6XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKSB7XG4gICAgLy8g0KPQtNCw0LvRj9C10YIg0LrQsNGA0YLQvtGH0LrRg1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIF9jaGVja093bmVyKCkge1xuICAgIHRoaXMuX2NhcmRPd25lci5faWQgPT09IHRoaXMuX3VzZXJJRFxuICAgID8gdGhpcy5feW91ckNhcmQgPSB0cnVlXG4gICAgOiB0aGlzLl95b3VyQ2FyZCA9IGZhbHNlO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgLypcbiAgICDigJTigJQgU2VjdGlvbjpcbiAgICDQvtGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtGA0LjRgdC+0LLQutGDINGN0LvQtdC80LXQvdGC0L7QsiDQvdCwINGB0YLRgNCw0L3QuNGG0LVcblxuICAgIOKAlOKAlCByZW5kZXI6INC/0YDQuNC80LXQvdGP0LXRgiDQv9C+0LvRg9GH0LXQvdC90YPRjiDRhNGD0L3QutGG0LjRji3Qv9Cw0YDQsNC80LXRgtGAIHJlbmRlciDQtNC70Y8g0LLRgdC10YUgaXRlbXNcbiAgICDigJTigJQgYWRkSXRlbShpdGVtKTog0LTQvtCx0LDQstC70Y/QtdGCIGl0ZW0g0LIg0L3QsNGH0LDQu9C+IHRoaXMuY29udGFpbmVyU2VsZWN0b3JcbiAgKi9cblxuICBjb25zdHJ1Y3Rvcih2YWx1ZXMpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHZhbHVlcy5yZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXJFbGVtZW50ID0gdmFsdWVzLmNvbnRhaW5lckVsZW1lbnQ7XG4gIH1cblxuICByZW5kZXIoZWxlbWVudHMpIHtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXJFbGVtZW50LnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgLypcbiAgICDigJTigJQgUG9wVXA6XG4gICAg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLQutGA0YvRgtC40LUg0Lgg0LfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LBcblxuICAgIOKAlOKAlCBfaGFuZGxlRXNjQ2xvc2U6INC80LXRgtC+0LQg0YHQvtC00LXRgNC20LjRgiDQu9C+0LPQuNC60YMg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LrQu9Cw0LLQuNGI0LXQuSBFc2NcbiAgICDigJTigJQgX2hhbmRsZU1haW5DbG9zZTog0LzQtdGC0L7QtCDRgdC+0LTQtdGA0LbQuNGCINC70L7Qs9C40LrRgyDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQutC70LjQutC+0LIg0L3QsCDQvtCy0LXRgNC70LXQuSDQuCDQuNC60L7QvdC60YMg0LrRgNC10YHRgtC40LrQsFxuICAgIOKAlOKAlCBvcGVuOiDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsFxuICAgIOKAlOKAlCBjbG9zZTog0LfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LBcbiAgICDigJTigJQgc2V0RXZlbnRMaXN0ZW5lcnM6INC80LXRgtC+0LQg0LTQvtCx0LDQstC70Y/QtdGCINGB0LvRg9GI0LDRgtC10LvRjCDQutC70LjQutCwINC40LrQvtC90LrQtSDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsFxuICAgIOKAlOKAlCByZW1vdmVFdmVudExpc3RlbmVyczog0LzQtdGC0L7QtCDRg9C00LDQu9GP0LXRgiDRgdC70YPRiNCw0YLQtdC70LhcbiAgKi9cblxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xuICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG5cbiAgICB0aGlzLl9vcGVuZWRTZWxlY3RvciA9ICdwb3B1cF9vcGVuZWQnOyAvLyDRgdC10LvQtdC60YLQvtGAINC+0YLQutGA0YvRgtC+0LPQviDQv9C+0L/QsNC/0LBcbiAgICAvLyDQvtCx0LXRgNGC0LrQuCDQtNC70Y8g0LrQvtC70LvQsdGN0LrQvtCyIGV2ZW50TGlzdGVuZXI6XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2VXcmFwcGVyID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVNYWluQ2xvc2VXcmFwcGVyID0gdGhpcy5faGFuZGxlTWFpbkNsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0Y3QutGB0LXQudC/0LBcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlTWFpbkNsb3NlKGV2dCkge1xuICAgIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INC+0LLQtdGA0LvQtdGPIC8g0LjQutC+0L3QutC4INC30LDQutGA0YvRgtC40Y9cbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwJykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZS1idXR0b24nKSl7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICAvLyDQvtGC0LrRgNGL0YLQuNC1INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwLCDQuCDQv9GA0LjQstGP0LfQutCwINC+0LHRgNCw0LHQvtGC0YfQuNC60LAgRXNjXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCh0aGlzLl9vcGVuZWRTZWxlY3Rvcik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZVdyYXBwZXIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgLy8g0LfQsNC60YDRi9GC0LjQtSDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCwg0Lgg0YPQtNCw0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutCwIEVzY1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb3BlbmVkU2VsZWN0b3IpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjQ2xvc2VXcmFwcGVyKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWFpbkNsb3NlV3JhcHBlcik7XG4gIH1cblxuICAvLyBfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIC8vICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZVdyYXBwZXIpO1xuICAvLyAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWFpbkNsb3NlV3JhcHBlcik7XG4gIC8vIH1cblxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnXG5pbXBvcnQge2NvbmZpZ30gZnJvbSAnLi4vdXRpbHMvdXRpbHMuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIC8qXG4gIOKAlOKAlCBQb3B1cFdpdGhGb3JtOlxuICDQvtGC0LLQtdGH0LDQtdGCINC30LAg0YPQv9GA0LDQstC70LXQvdC40LUg0L7RgtC+0LHRgNCw0LbQtdC90LjQtdC8INC/0L7Qv9Cw0L/QsCDRgSDRhNC+0YDQvNC+0LlcblxuICDigJTigJQgX2dldElucHV0VmFsdWVzOiDRgdC+0LHQuNGA0LDQtdGCINC00LDQvdC90YvQtSDQstGB0LXRhSDQv9C+0LvQtdC5INGE0L7RgNC80Ysg0Lgg0LLQvtC30LLRgNCw0YnQsNC10YIg0LjRhSDQsiDQstC40LTQtSDQvtCx0YrQtdC60YLQsFxuICDigJTigJQgc2V0RXZlbnRMaXN0ZW5lcnM6IHN1cGVyICsg0LTQvtCx0LDQstC70Y/QtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0LDQsdC80LjRgtCwXG4gIOKAlOKAlCBjbG9zZTog0L7Rh9C40YnQsNC10YIg0YTQvtGA0LzRgyDQuCDQvtGI0LjQsdC60LhcbiAgKi9cbiAgY29uc3RydWN0b3IocG9wdXAsIHN1Ym1pdENhbGxiYWNrLCBjbG9zZUNhbGxiYWNrKSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgdGhpcy5fc3VibWl0Q2FsbGJhY2sgPSBzdWJtaXRDYWxsYmFjaztcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lcicpO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5mb3JtU2VsZWN0b3IpXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX2Nsb3NlQ2FsbGJhY2sgPSBjbG9zZUNhbGxiYWNrIC8vINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQtNC70Y8g0L7Rh9C40YHRgtC60Lgg0L7RiNC40LHQvtC6INC/0YDQuCDQt9Cw0LrRgNGL0YLQuNC4INGE0L7RgNC80YtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiDQvtCx0YrQtdC60YIuXG4gICAgLy8g0LrQu9GO0YcgPSBpbnB1dCBuYW1lLFxuICAgIC8vINC30L3QsNGH0LXQvdC40LUgPSB2YWx1ZS5cbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9XG4gICAgT2JqZWN0XG4gICAgLnZhbHVlcyh0aGlzLl9mb3JtKVxuICAgIC5yZWR1Y2UoIChvYmosIGZpZWxkKSA9PiB7XG4gICAgICBvYmpbZmllbGQubmFtZV0gPSBmaWVsZC52YWx1ZTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT57XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTsgLy8g0LjQt9Cx0LDQstC70Y/QtdC80YHRjyDQvtGCINGB0YLQsNC90LTQsNGA0YLQvdC+0LPQviDQv9C+0LLQtdC00LXQvdC40Y9cbiAgICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrKHRoaXMuX2dldElucHV0VmFsdWVzKCksIGV2dCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fc3VibWl0Q2FsbGJhY2spOyAvLyDQsdC10Lcg0Y3RgtC+0LPQviDQsdGD0LTQtdGCINC00YPQsdC70LjRgNC+0LLQsNGC0Ywgc3VibWl0XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgdGhpcy5fY2xvc2VDYWxsYmFjaygpO1xuICB9XG5cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgICAvKlxuICDigJTigJQgUG9wdXBXaXRoSW1hZ2U6XG4gINC+0YLQstC10YfQsNC10YIg0LfQsCDRg9C/0YDQsNCy0LvQtdC90LjQtSDQvtGC0L7QsdGA0LDQttC10L3QuNC10Lwg0L/QvtC/0LDQv9CwINGBINC60LDRgNGC0LjQvdC60L7QuVxuXG4gIOKAlOKAlCBvcGVuOiDQstGB0YLQsNCy0LvRj9C10YIg0LIg0L/QvtC/0LDQvyDQutCw0YDRgtC40L3QutGDLCDQt9Cw0LPQvtC70L7QstC+0Log0Lgg0L/QvtC00L/QuNGB0Ywg0Log0LrQsNGA0YLQuNC90LrQtVxuICAqL1xuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xuICAgIHN1cGVyKHBvcHVwKVxuICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgdGhpcy5fbGlnaHRib3hDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmxpZ2h0Ym94X19jYXB0aW9uJyk7XG4gICAgdGhpcy5fbGlnaHRib3hJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5saWdodGJveF9faW1hZ2UnKTtcbiAgfVxuXG4gIG9wZW4oY2FyZERhdGEpIHtcbiAgICB0aGlzLl9saWdodGJveENhcHRpb24udGV4dENvbnRlbnQgPSBjYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpZ2h0Ym94SW1hZ2Uuc3JjID0gY2FyZERhdGEubGluaztcbiAgICB0aGlzLl9saWdodGJveEltYWdlLmFsdCA9IGNhcmREYXRhLm5hbWU7XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgLypcbiAg4oCU4oCUIFVzZXJJbmZvOlxuICDQvtGC0LLQtdGH0LDQtdGCINC30LAg0YPQv9GA0LDQstC70LXQvdC40LUg0L7RgtC+0LHRgNCw0LbQtdC90LjQtdC8INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdCwINGB0YLRgNCw0L3QuNGG0LVcblxuICDigJTigJQgZ2V0VXNlckluZm86INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAg4oCU4oCUIHNldFVzZXJJbmZvOiDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC00L7QsdCw0LLQu9GP0LXRgiDQuNGFINC90LAg0YHRgtGA0LDQvdC40YbRg1xuICAqL1xuICBjb25zdHJ1Y3Rvcih1c2VyRWxlbWVudHMpIHtcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQgPSB1c2VyRWxlbWVudHMubmFtZTtcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50ID0gdXNlckVsZW1lbnRzLmFib3V0O1xuICAgIHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50ID0gdXNlckVsZW1lbnRzLmF2YXRhcjtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fdXNlckRlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudFxuICAgIH1cbiAgfVxuXG4gIHNldFVzZXJJbmZvKHVzZXJJbmZvKSB7XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlckluZm8ubmFtZTtcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gdXNlckluZm8uYWJvdXQ7XG4gICAgdGhpcy5zZXRVc2VyQXZhdGFyKHVzZXJJbmZvLmF2YXRhcik7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKGltYWdlU3JjKSB7XG4gICAgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQuc3JjID0gaW1hZ2VTcmM7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XG4gICAgLypcbiAg4oCU4oCUIFBvcHVwV2l0aFN1Ym1pdDpcbiAg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINGD0L/RgNCw0LLQu9C10L3QuNC1INC+0YLQvtCx0YDQsNC20LXQvdC40LXQvCDQv9C+0L/QsNC/0LAg0YEgc3VibWl0XG5cbiAgKi9cbiAgY29uc3RydWN0b3IocG9wdXAsIHN1Ym1pdENhbGxiYWNrKSB7XG4gICAgc3VwZXIocG9wdXApXG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gc3VibWl0Q2FsbGJhY2s7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUtYnV0dG9uJyk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5fb2JqID0gbnVsbDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PntcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvLyDQuNC30LHQsNCy0LvRj9C10LzRgdGPINC+0YIg0YHRgtCw0L3QtNCw0YDRgtC90L7Qs9C+INC/0L7QstC10LTQtdC90LjRj1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9lbGVtZW50LCB0aGlzLl9vYmosIGV2dClcbiAgICB9KTtcbiAgfVxuXG4gIG9wZW4oZWxlbWVudCwgb2JqZWN0KSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5fb2JqID0gb2JqZWN0O1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuXG59XG4iLCIvKiAtLS0tLS0tLS0tINCY0LzQv9C+0YDRgtGLIC0tLS0tLS0tLS0gKi9cbmltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcblxuaW1wb3J0IHtcbiAgY29uZmlnLFxuICB1c2VyRWxlbWVudHMsXG4gIGFjY291bnRJbnB1dE5hbWUsXG4gIGFjY291bnRJbnB1dERlc2MsXG4gIGFjY291bnRFZGl0QnV0dG9uLFxuICBwbGFjZUFkZEJ1dHRvbixcbiAgcGxhY2VQb3BVcCxcbiAgYWNjb3VudFBvcFVwLFxuICBhY2NvdW50Rm9ybSxcbiAgY29uZmlybVBvcFVwLFxuICBhdmF0YXJQb3BVcCxcbiAgYXZhdGFyRm9ybSxcbiAgY2hhbmdlQXZhdGFyQnRuLFxuICBwbGFjZUZvcm0sXG4gIGNhcmRzQ29udGFpbmVyLFxuICBsaWdodGJveH1cbmZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJ1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcydcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcydcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcydcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcydcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcydcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJ1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnXG5pbXBvcnQgUG9wdXBXaXRoU3VibWl0IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzJ1xuXG4vKiAtLS0tLS0tLS0tINCg0LDQsdC+0YLQsCDRgSDRgdC10YDQstC10YDQvtC8IChBcGkuanMpIC0tLS0tLS0tLS0gKi9cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0xNicsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnMjUwNjhkNWItNzllZi00MjNmLThiMjItYjk5MjJjMzFhZDZjJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pO1xuXG5cbi8qIC0tLS0tLS0tLS0g0KHQvtC30LTQsNC90LjQtSDQutC70LDRgdGB0LAg0YHQtdC60YbQuNC4INGBINC60LDRgNGC0L7Rh9C60LDQvNC4IChTZWN0aW9uLmpzKSAtLS0tLS0tLS0tICovXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oe1xuICByZW5kZXJlcjogKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9XG4gICAgY3JlYXRlQ2FyZEluc3RhbmNlKGVsZW1lbnQpXG4gICAgLmdlbmVyYXRlQ2FyZCgpO1xuICAgIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gIH0sXG4gIGNvbnRhaW5lckVsZW1lbnQgOiBjYXJkc0NvbnRhaW5lclxufSlcblxuXG4vKiAtLS0tLS0tLS0tINCk0YPQvdC60YbQuNGPLCDQvNC10L3Rj9GO0YnQsNGPINGC0LXQutGB0YIg0L3QsCDQutC90L7Qv9C60LDRhSDQsiDQvNC+0LzQtdC90YLRiyDQt9Cw0LPRgNGD0LfQutC4LiAtLS0tLS0tLS0tICovXG5cbmZ1bmN0aW9uIHNldEJ0blRleHQoZXZ0LCB0ZXh0KSB7IC8vINC/0YDQuNC90LjQvNCw0LXRgiBldnQg0YHRg9Cx0LzQuNGC0LAg0LTQu9GPINC90LDRhdC+0LbQtNC10L3QuNGPINC60L3QvtC/0LrQuFxuICBjb25zdCBidXR0b24gPSBldnQudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZS1idXR0b24nKTtcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcbn1cblxuXG4vKiAtLS0tLS0tLS0tINCk0YPQvdC60YbQuNGPLCDRgdC+0LfQtNCw0Y7RidCw0Y8g0L3QvtCy0YvQtSDRjdC60LfQtdC80L/Qu9GP0YDRiyDQutCw0YDRgtC+0YfQtdC6LiAtLS0tLS0tLS0tICovXG5cbi8vINCk0YPQvdC60YbQuNGPINC/0YDQuNC90LjQvNCw0LXRgiDQv9Cw0YDQsNC80LXRgtGAINC+0LHRitC10LrRgtCwINC60LDRgNGC0L7Rh9C60Lgg0Lgg0LLQvtC30YDQsNGJ0LDQtdGCINC90L7QstGL0Lkg0Y3QutC30LXQvNC/0LvRj9GAIENhcmRcblxuZnVuY3Rpb24gY3JlYXRlQ2FyZEluc3RhbmNlKGNhcmQpIHtcbiAgY29uc3QgY2FyZEluc3RhbmNlID0gbmV3IENhcmQgKFxuICAgIHsgLy8gSSDQv9Cw0YDQsNC80LXRgtGAIOKAlCDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0Lgg0LvQvtCz0LjQutC+0Lk6XG4gICAgICBkYXRhOiBjYXJkLCAvLyDQntCx0YrQtdC60YIg0LrQsNGA0YLQvtGH0LrQuFxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAobGlnaHRDYXJkKSA9PiB7IHBvcHVwTGlnaHRCb3gub3BlbihsaWdodENhcmQpOyB9LCAgLy8g0JrQvtC70LvQsdGN0Log0LrQu9C40LrQsCDQv9C+INC60LDRgNGC0L7Rh9C60LVcbiAgICAgIGhhbmRsZUxpa2VDbGljazogKCkgPT4geyAvLyDQmtC+0LvQu9Cx0Y3QuiDQutC70LjQutCwINC/0L4g0LrQvdC+0L/QutC1INC70LDQudC6OlxuICAgICAgICAvLyDQn9GA0L7QstC10YDQuNC8LCDQu9Cw0LnQutCw0LvQuCDQu9C4INC80Ysg0LXQtSDRg9C20LU/XG4gICAgICAgIGNhcmRJbnN0YW5jZS55b3VMaWtlZCgpXG4gICAgICAgIC8vINCV0YHQu9C4INC00LAsINGC0L4g0LvQsNC50Log0L3QsNC00L4g0YPQsdGA0LDRgtGMOlxuICAgICAgICA/IGFwaS5yZW1vdmVMaWtlKGNhcmQpXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgY2FyZEluc3RhbmNlLmNhcmRMaWtlcyA9IHJlcy5saWtlcztcbiAgICAgICAgICBjYXJkSW5zdGFuY2UucmVuZGVyQW1vdW50T2ZMaWtlcyhyZXMubGlrZXMubGVuZ3RoKVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihjYXJkSW5zdGFuY2UudG9nZ2xlTGlrZUJ0blN0YXRlKCkpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDRg9C00LDQu9C10L3QuNC4INC70LDQudC60LA6ICR7ZXJyb3J9YCkpXG4gICAgICAgIC8vINCV0YHQu9C4INC90LXRgiwg0YLQviDQu9Cw0LnQuiDQvdCw0LTQviDQv9C+0YHRgtCw0LLQuNGC0Yw6XG4gICAgICAgIDogYXBpLnNldExpa2UoY2FyZClcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICBjYXJkSW5zdGFuY2UuY2FyZExpa2VzID0gcmVzLmxpa2VzO1xuICAgICAgICAgIGNhcmRJbnN0YW5jZS5yZW5kZXJBbW91bnRPZkxpa2VzKHJlcy5saWtlcy5sZW5ndGgpXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGNhcmRJbnN0YW5jZS50b2dnbGVMaWtlQnRuU3RhdGUoKSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC4INC70LDQudC60LA6ICR7ZXJyb3J9YCkpXG4gICAgICAgfSxcbiAgICAgIGhhbmRsZURlbGV0ZUljb25DbGljazogKCkgPT4geyAvLyDQmtC+0LvQu9Cx0Y3QuiDQutC70LjQutCwINC/0L4g0LrQvtGA0LfQuNC90LVcbiAgICAgICAgcG9wdXBEZWxldGVDb25maXJtLm9wZW4oY2FyZEluc3RhbmNlLCBjYXJkKVxuICAgICAgIH0sXG4gICAgICBteUlkOiBgN2Y2NTE4OTNmZmEyODQ2NjNjMDc4MTc3YFxuICAgIH0sXG4gICAgJyNjYXJkJyk7IC8vIElJINC/0LDRgNCw0LzQtdGC0YAg4oCUINGB0LXQu9C10LrRgtC+0YAg0LrQsNGA0YLQvtGH0LrQuClcbiAgICByZXR1cm4gY2FyZEluc3RhbmNlO1xufVxuXG5cbi8qIC0tLS0tLS0tLS0g0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8gLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBwb3B1cERlbGV0ZUNvbmZpcm0gPSBuZXcgUG9wdXBXaXRoU3VibWl0KFxuICBjb25maXJtUG9wVXAsXG4gIC8vINC60L7Qu9C70LHRjdC6INGB0LDQsdC80LjRgtCwICjRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LgpXG4gIChjYXJkRWxlbWVudCwgY2FyZE9iaiwgZXZ0KSA9PiB7XG4gICAgc2V0QnRuVGV4dChldnQsICfQo9C00LDQu9C10L3QuNC1Li4uJylcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkT2JqKVxuICAgIC50aGVuKGNhcmRFbGVtZW50LnJlbW92ZUNhcmQoKSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBwb3B1cERlbGV0ZUNvbmZpcm0uY2xvc2UoKSAvLyDQt9Cw0LrRgNGL0LLQsNC10Lwg0L/QvtC/0LDQv1xuICAgICAgc2V0QnRuVGV4dChldnQsICfQlNCwJylcbiAgICB9KVxuICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDRg9C00LDQu9C10L3QuNC4INC60LDRgNGC0L7Rh9C60Lg6ICR7ZXJyb3J9YCkpXG4gIH0pXG5wb3B1cERlbGV0ZUNvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLyogLS0tLS0tLS0tLSDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0YHQvNC10L3RiyDQsNCy0LDRgtCw0YDQsCAtLS0tLS0tLS0tICovXG5cbmNvbnN0IHBvcHVwQ2hhbmdlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0gKFxuICBhdmF0YXJQb3BVcCxcbiAgKGRhdGEsIGV2dCkgPT4ge1xuICAgIHNldEJ0blRleHQoZXZ0LCAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKVxuICAgIGFwaS5zZXRBdmF0YXIoZGF0YS5saW5rKVxuICAgIC50aGVuKCAocmVzKSA9PiB7dXNlckluZm8uc2V0VXNlckF2YXRhcihyZXMuYXZhdGFyKX0pXG4gICAgLnRoZW4oICgpID0+IHtcbiAgICAgIHBvcHVwQ2hhbmdlQXZhdGFyLmNsb3NlKClcbiAgICAgIHNldEJ0blRleHQoZXZ0LCAn0KHQvtGF0YDQsNC90LjRgtGMJylcbiAgICB9KVxuICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDQuNC30LzQtdC90LXQvdC40Lgg0LDQstCw0YLQsNGA0LA6ICR7ZXJyb3J9YCkpXG4gIH0sXG4gICgpID0+IHtcbiAgICBhdmF0YXJGb3JtVmFsaWRhdG9yLnJlbW92ZUVycm9ycygpO31cbilcblxucG9wdXBDaGFuZ2VBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY2hhbmdlQXZhdGFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHBvcHVwQ2hhbmdlQXZhdGFyLm9wZW4oKTtcbiAgfVxuKVxuXG4vKiAtLS0tLS0tLS0tINCc0L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPINC4INGB0L7Qt9C00LDQvdC40LUg0LrQu9Cw0YHRgdCwIFVzZXJJbmZvIC0tLS0tLS0tLS0gKi9cblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8odXNlckVsZW1lbnRzKTtcblxuY29uc3QgcG9wdXBQcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBhY2NvdW50UG9wVXAsIC8vIEkg0L/QsNGA0LDQvNC10YLRgCDigJQg0YTQvtGA0LzQsFxuICAoZGF0YSwgZXZ0KSA9PiB7IC8vIElJINC/0LDRgNCw0LzQtdGC0YAgLSDQutC+0LvQu9Cx0Y3QuiDRgdGD0LHQvNC40YLQsFxuICAgIHNldEJ0blRleHQoZXZ0LCAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKVxuICAgIGFwaS5zZXRVc2VyKGRhdGEpXG4gICAgLnRoZW4ocmVzID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtuYW1lOiByZXMubmFtZSwgYWJvdXQ6IHJlcy5hYm91dCwgYXZhdGFyOiByZXMuYXZhdGFyfSk7IC8vINGB0YLQsNCy0LjQvCDQvdC+0LLRi9C1INC00LDQvdC90YvQtVxuICAgIH0pXG4gICAgLnRoZW4oICgpID0+IHtcbiAgICAgIHBvcHVwUHJvZmlsZUZvcm0uY2xvc2UoKVxuICAgICAgc2V0QnRuVGV4dChldnQsICfQodC+0YXRgNCw0L3QuNGC0YwnKSAvLyDQl9Cw0LrRgNGL0LLQsNC10Lwg0YTQvtGA0LzRg1xuICAgIH0pXG4gICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAg0L/RgNC4INC40LfQvNC10L3QtdC90LjQuCDQtNCw0L3QvdGL0YUg0L/RgNC+0YTQuNC70Y86ICR7ZXJyb3J9YCkpXG4gIH0sXG4gICgpID0+IHtcbiAgICBhY2NvdW50Rm9ybVZhbGlkYXRvci5yZW1vdmVFcnJvcnMoKTtcbiAgfSAvLyBJSUkg0L/QsNGA0LDQvNC10YLRgCDigJQg0LrQvtC70LvQsdGN0Log0LfQsNC60YDRi9GC0LjRj1xuKTtcblxucG9wdXBQcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5hY2NvdW50RWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgYWNjb3VudElucHV0TmFtZS52YWx1ZSA9IG5hbWU7IC8vINCy0YHRgtCw0LLQu9GP0LXQvCDQtNCw0L3QvdGL0LUg0LIg0LjQvdC/0YPRgtGLXG4gIGFjY291bnRJbnB1dERlc2MudmFsdWUgPSBhYm91dDsgLy8g0LLRgdGC0LDQstC70Y/QtdC8INC00LDQvdC90YvQtSDQsiDQuNC90L/Rg9GC0YtcbiAgcG9wdXBQcm9maWxlRm9ybS5vcGVuKCk7IC8vINC+0YLQutGA0YvQstCw0LXQvCDRgdCw0Lwg0L/QvtC/0LDQv1xufSk7XG5cblxuLyogLS0tLS0tLS0tLSDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4gTGlnaHRCb3ggLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBwb3B1cExpZ2h0Qm94ID0gbmV3IFBvcHVwV2l0aEltYWdlKGxpZ2h0Ym94KTtcbnBvcHVwTGlnaHRCb3guc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG4vKiAtLS0tLS0tLS0tINCc0L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LgpIC0tLS0tLS0tLS0gKi9cblxuY29uc3QgcG9wdXBDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBwbGFjZVBvcFVwLCAvLyBJINC/0LDRgNCw0LzQtdGC0YAg4oCUINGE0L7RgNC80LBcbiAgKGRhdGEsIGV2dCkgPT4geyAvLyBJSSDQv9Cw0YDQsNC80LXRgtGAIC0g0LrQvtC70LvQsdGN0Log0YHRg9Cx0LzQuNGC0LBcbiAgICBzZXRCdG5UZXh0KGV2dCwgJ9CU0L7QsdCw0LLQu9C10L3QuNC1Li4uJyk7XG4gICAgY29uc3QgbmV3Q2FyZCA9IHtuYW1lLCBsaW5rfTsgLy8g0L3QvtCy0LDRjyDQutCw0YDRgtC+0YfQutCwINCc0LXRgdGC0L5cbiAgICBuZXdDYXJkLm5hbWUgPSBkYXRhLnRpdGxlO1xuICAgIG5ld0NhcmQubGluayA9IGRhdGEubGluaztcbiAgICBhcGkudXBsb2FkQ2FyZChuZXdDYXJkKSAvLyDQlNC+0LHQsNC70Y/QtdC8INC60LDRgNGC0L7Rh9C60YMg0L3QsCDRgdC10YDQstC10YBcbiAgICAgIC50aGVuKGNhcmRPYmplY3QgPT4ge1xuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9XG4gICAgICAgIGNyZWF0ZUNhcmRJbnN0YW5jZShjYXJkT2JqZWN0KVxuICAgICAgICAuZ2VuZXJhdGVDYXJkKCk7XG4gICAgICAgIHBvcHVwQ2FyZEZvcm0uY2xvc2UoKSAvLyDQt9Cw0LrRgNGL0LLQsNC10Lwg0YTQvtGA0LzRg1xuICAgICAgICBzZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpOyAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0LrQsNGA0YLQvtGH0LrRgyDQsiBzZWN0aW9uXG4gICAgICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge3NldEJ0blRleHQoZXZ0LCAn0KHQvtGF0YDQsNC90LjRgtGMJyk7fSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQutCw0YDRgtC+0YfQutC4OiAke2Vycm9yfWApKVxuICB9LFxuICAoKSA9PiB7XG4gICAgcGxhY2VGb3JtVmFsaWRhdG9yLnJlbW92ZUVycm9ycygpO1xuICB9IC8vIElJSSDQv9Cw0YDQsNC80LXRgtGAIOKAlCDQutC+0LvQu9Cx0Y3QuiDQt9Cw0LrRgNGL0YLQuNGPXG4pO1xuXG5wb3B1cENhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnBsYWNlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cENhcmRGb3JtLm9wZW4oKTsgLy8g0L7RgtC60YDRi9Cy0LDQtdC8INGB0LDQvCDQv9C+0L/QsNC/XG59KTtcblxuXG4vLyAtLS0tLS0tLS0tIEFQSTog0JfQsNCz0YDRg9C30LrQsCDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC60LDRgNGC0L7Rh9C10Log0YEg0YHQtdGA0LLQtdGA0LA6IC0tLS0tLS0tLS1cblxuXG5Qcm9taXNlLmFsbChbXG4gIGFwaS5nZXRVc2VyKCksXG4gIGFwaS5nZXRDYXJkcygpXG5dKVxuICAudGhlbih2YWx1ZXMgPT4ge2NvbnNvbGUubG9nKCfQn9C+0LTQutC70Y7Rh9C10L3QviDQuiDRgdC10YDQstC10YDRgyDQuCDRgNCw0LHQvtGC0LDQtdGCIScpOyByZXR1cm4ge3VzZXI6IHZhbHVlc1swXSwgY2FyZHM6IHZhbHVlc1sxXX07IGNvbnNvbGUubG9nKHZhbHVlcykgfSlcbiAgLnRoZW4oZGF0YSA9PiB7dXNlckluZm8uc2V0VXNlckluZm8oZGF0YS51c2VyKTsgcmV0dXJuIGRhdGF9KVxuICAudGhlbihkYXRhID0+IHtyZXR1cm4gZGF0YS5jYXJkcy5yZXZlcnNlKCl9KSAvLyDQn9C10YDQtdCy0L7RgNCw0YfQuNCy0LDQtdC8INC80LDRgdGB0LjQsiDQutCw0YDRgtC+0YfQtdC6XG4gIC50aGVuKHJlc1JldmVyc2VkID0+IHtzZWN0aW9uLnJlbmRlcihyZXNSZXZlcnNlZCl9KVxuICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDQv9C+0L/Ri9GC0LrQtSDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQutCw0YDRgtC+0YfQutC4OiAke2Vycm9yfWApKVxuXG5cblxuLyogLS0tLS0tLS0tLSDQktCw0LvQuNC00LDRhtC40Y8g0KTQvtGA0LwgKEZvcm1WYWxpZGF0b3IuanMpIC0tLS0tLS0tLS0gKi9cblxuY29uc3QgYWNjb3VudEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGFjY291bnRGb3JtKTtcbmFjY291bnRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTsgLy8g0JLQmtCbINCy0LDQu9C40LTQsNGG0LjRjiDQtNC70Y8gQWNjb3VudFxuXG5jb25zdCBwbGFjZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHBsYWNlRm9ybSk7XG5wbGFjZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpOyAvLyDQktCa0Jsg0LLQsNC70LjQtNCw0YbQuNGOINC00LvRjyBQbGFjZVxuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBhdmF0YXJGb3JtKTtcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpOyAvLyDQktCa0Jsg0LLQsNC70LjQtNCw0YbQuNGOINC00LvRjyBBdmF0YXJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJmaWVsZHNldFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImVycm9yQ2xhc3MiLCJhY2NvdW50UG9wVXAiLCJxdWVyeVNlbGVjdG9yIiwiYWNjb3VudEVkaXRCdXR0b24iLCJhY2NvdW50Rm9ybSIsImZvcm1zIiwiYWNjb3VudCIsImFjY291bnRJbnB1dE5hbWUiLCJlbGVtZW50cyIsInVzZXJuYW1lIiwiYWNjb3VudElucHV0RGVzYyIsImRlc2NyaXB0aW9uIiwicGxhY2VQb3BVcCIsInBsYWNlQWRkQnV0dG9uIiwicGxhY2VGb3JtIiwicGxhY2UiLCJjb25maXJtUG9wVXAiLCJ0aXRsZSIsImxpbmsiLCJhdmF0YXJGb3JtIiwiYXZhdGFyIiwiYXZhdGFyUG9wVXAiLCJjaGFuZ2VBdmF0YXJCdG4iLCJ1c2VyRWxlbWVudHMiLCJuYW1lIiwiYWJvdXQiLCJsaWdodGJveCIsImNhcmRzQ29udGFpbmVyIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwidXJsIiwiaW5pdCIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInJlcyIsInN0YXR1cyIsIl9mZXRjaEJ1dENhdGNoIiwidXNlckRhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImltZ1NyYyIsImNhcmQiLCJfaWQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybSIsIl9maWVsZHNldFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtIiwiX3N1Ym1pdEJ0biIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImlucHV0TGlzdCIsInNvbWUiLCJpbnB1dFZhbHVlIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVCdG4iLCJfZW5hYmxlQnRuIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJDYXJkIiwidmFsdWVzIiwidGVtcGxhdGVTZWxlY3RvciIsIl9jYXJkVGl0bGUiLCJkYXRhIiwiX2NhcmRJbWFnZSIsImNhcmRMaWtlcyIsImxpa2VzIiwiX2NhcmRPd25lciIsIm93bmVyIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsImhhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsImhhbmRsZURlbGV0ZUljb25DbGljayIsIl91c2VySUQiLCJteUlkIiwiX2NhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9saWtlQnV0dG9uIiwiX2RlbGV0ZUJ1dHRvbiIsIl9jYXJkSW1hZ2VFbGVtZW50IiwiX2Nsb25lVGVtcGxhdGUiLCJfY2FyZFRpdGxlRWxlbWVudCIsIl9jYXJkTGlrZXNFbGVtZW50IiwiYWx0IiwicmVuZGVyQW1vdW50T2ZMaWtlcyIsInlvdUxpa2VkIiwidG9nZ2xlTGlrZUJ0blN0YXRlIiwiX2NoZWNrT3duZXIiLCJfeW91ckNhcmQiLCJzb3VyY2UiLCJjYXJkTG92ZXIiLCJ0b2dnbGUiLCJTZWN0aW9uIiwiX3JlbmRlcmVyIiwicmVuZGVyZXIiLCJfY29udGFpbmVyRWxlbWVudCIsImNvbnRhaW5lckVsZW1lbnQiLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXAiLCJfcG9wdXAiLCJfb3BlbmVkU2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2VXcmFwcGVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9oYW5kbGVNYWluQ2xvc2VXcmFwcGVyIiwiX2hhbmRsZU1haW5DbG9zZSIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdENhbGxiYWNrIiwiY2xvc2VDYWxsYmFjayIsIl9zdWJtaXRDYWxsYmFjayIsIl9zdWJtaXRCdXR0b24iLCJfaW5wdXRTZWxlY3RvciIsIl9jbG9zZUNhbGxiYWNrIiwiT2JqZWN0IiwicmVkdWNlIiwib2JqIiwiZmllbGQiLCJ2YWx1ZSIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfbGlnaHRib3hDYXB0aW9uIiwiX2xpZ2h0Ym94SW1hZ2UiLCJjYXJkRGF0YSIsIlVzZXJJbmZvIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VyRGVzY3JpcHRpb25FbGVtZW50IiwiX3VzZXJBdmF0YXJFbGVtZW50IiwidXNlckluZm8iLCJzZXRVc2VyQXZhdGFyIiwiaW1hZ2VTcmMiLCJQb3B1cFdpdGhTdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9lbGVtZW50IiwiX29iaiIsIm9iamVjdCIsImFwaSIsImF1dGhvcml6YXRpb24iLCJzZWN0aW9uIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVDYXJkSW5zdGFuY2UiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwic2V0QnRuVGV4dCIsInRleHQiLCJjYXJkSW5zdGFuY2UiLCJsaWdodENhcmQiLCJwb3B1cExpZ2h0Qm94Iiwib3BlbiIsInJlbW92ZUxpa2UiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNldExpa2UiLCJwb3B1cERlbGV0ZUNvbmZpcm0iLCJjYXJkT2JqIiwiZGVsZXRlQ2FyZCIsInJlbW92ZUNhcmQiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwQ2hhbmdlQXZhdGFyIiwic2V0QXZhdGFyIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsInJlbW92ZUVycm9ycyIsInBvcHVwUHJvZmlsZUZvcm0iLCJzZXRVc2VyIiwic2V0VXNlckluZm8iLCJhY2NvdW50Rm9ybVZhbGlkYXRvciIsImdldFVzZXJJbmZvIiwicG9wdXBDYXJkRm9ybSIsIm5ld0NhcmQiLCJ1cGxvYWRDYXJkIiwiY2FyZE9iamVjdCIsInBsYWNlRm9ybVZhbGlkYXRvciIsImFsbCIsImdldFVzZXIiLCJnZXRDYXJkcyIsInVzZXIiLCJjYXJkcyIsInJldmVyc2UiLCJyZXNSZXZlcnNlZCIsInJlbmRlciIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9