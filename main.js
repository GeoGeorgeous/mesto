!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0),n.p,n.p,n.p,n.p,n.p,n.p;var r={formSelector:".popup__container",fieldsetSelector:".popup__form",inputSelector:".popup__form-item",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_inactive",errorClass:"popup__form-item_error"},o=document.querySelector('.popup[data-type="account"]'),i=document.querySelector(".profile__edit-button"),a=document.forms.account,c=a.elements.username,u=a.elements.description,s=document.querySelector('.popup[data-type="place"]'),l=document.querySelector(".profile__add-button"),f=document.forms.place,p=(f.elements.title,f.elements.link,document.querySelector('.popup[data-type="confirm-delete"]')),h=document.forms.avatar,d=document.querySelector('.popup[data-type="avatar"]'),y=document.querySelector(".profile__avatar"),_={name:document.querySelector(".profile__name"),about:document.querySelector(".profile__description"),avatar:document.querySelector(".profile__avatar-image")},v=document.querySelector('.popup[data-type="lightbox"]'),m=document.querySelector(".cards__items");function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n,r;return t=e,(n=[{key:"_fetchButCatch",value:function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(new Error("Ошибка: ".concat(res.status)))}))}},{key:"getUser",value:function(){return this._fetchButCatch("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"setUser",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}},{key:"setAvatar",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}},{key:"uploadCard",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}},{key:"getCards",value:function(){return this._fetchButCatch("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"deleteCard",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers})}},{key:"setLike",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"PUT",headers:this._headers})}},{key:"removeLike",value:function(e){return this._fetchButCatch("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"DELETE",headers:this._headers})}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fieldsetSelector=t.fieldsetSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._errorClass=t.errorClass,this._form=n,this._submitBtn=this._form.querySelector(this._submitButtonSelector),this._inputList=Array.from(this._form.querySelectorAll(t.inputSelector))}var t,n,r;return t=e,(n=[{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e,e.validationMessage):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){this._form.querySelector("#".concat(e.id,"-error")).textContent=t,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_enableBtn",value:function(){this._submitBtn.classList.remove(this._inactiveButtonClass),this._submitBtn.disabled=!1}},{key:"_disableBtn",value:function(){this._submitBtn.classList.add(this._inactiveButtonClass),this._submitBtn.disabled=!0}},{key:"_toggleButtonState",value:function(e){this._hasInvalidInput(e)?this._disableBtn():this._enableBtn()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(this._inputList),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState(e._inputList)}))}))}},{key:"removeErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._disableBtn()})),this._setEventListeners()}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardTitle=t.data.name,this._cardImage=t.data.link,this.cardLikes=t.data.likes,this._cardOwner=t.data.owner,this._templateSelector=n,this._handleCardClick=t.handleCardClick,this._handleLikeClick=t.handleLikeClick,this._handleDeleteClick=t.handleDeleteIconClick,this._userID=t.myId}var t,n,r;return t=e,(n=[{key:"_cloneTemplate",value:function(){this._cardElement=document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",this._handleLikeClick),this._deleteButton.addEventListener("click",this._handleDeleteClick),this._cardImageElement.addEventListener("click",(function(){e._handleCardClick({name:e._cardTitle,link:e._cardImage})}))}},{key:"generateCard",value:function(){return this._cloneTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardTitleElement=this._cardElement.querySelector(".card__title"),this._cardLikesElement=this._cardElement.querySelector(".card__likes"),this._cardImageElement.src=this._cardImage,this._cardTitleElement.textContent=this._cardTitle,this._cardImageElement.alt=this._cardTitle,this.renderAmountOfLikes(this.cardLikes.length),this.youLiked()&&this.toggleLikeBtnState(),this._setEventListeners(),this._checkOwner(),this._yourCard||this._deleteButton.remove(),this._cardElement}},{key:"renderAmountOfLikes",value:function(e){this._cardLikesElement.textContent=e}},{key:"youLiked",value:function(){var e=this;return this.cardLikes.some((function(t){return t._id===e._userID}))}},{key:"toggleLikeBtnState",value:function(){this._likeButton.classList.toggle("card__like-button_active")}},{key:"removeCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_checkOwner",value:function(){this._cardOwner._id===this._userID?this._yourCard=!0:this._yourCard=!1}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t.renderer,this._containerElement=t.containerElement}var t,n,r;return t=e,(n=[{key:"render",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._containerElement.prepend(e)}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._openedSelector="popup_opened",this._handleEscCloseWrapper=this._handleEscClose.bind(this),this._handleMainCloseWrapper=this._handleMainClose.bind(this)}var t,n,r;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleMainClose",value:function(e){(e.target.classList.contains("popup")||e.target.classList.contains("popup__close-button"))&&this.close()}},{key:"open",value:function(){this._popup.classList.add(this._openedSelector),document.addEventListener("keyup",this._handleEscCloseWrapper)}},{key:"close",value:function(){this._popup.classList.remove(this._openedSelector),document.removeEventListener("keyup",this._handleEscCloseWrapper)}},{key:"setEventListeners",value:function(){this._popup.addEventListener("click",this._handleMainCloseWrapper)}}])&&L(t.prototype,n),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=T(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(a,e);var t,n,o,i=x(a);function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(o=i.call(this,e))._popup=e,o._submitCallback=t,o._submitButton=o._popup.querySelector(".popup__container"),o._form=o._popup.querySelector(r.formSelector),o._inputSelector=r.inputSelector,o._closeCallback=n,o}return t=a,(n=[{key:"_getInputValues",value:function(){return Object.values(this._form).reduce((function(e,t){return e[t.name]=t.value,e}),{})}},{key:"setEventListeners",value:function(){var e=this;I(U(a.prototype),"setEventListeners",this).call(this),this._submitButton.addEventListener("submit",(function(t){t.preventDefault(),e._submitCallback(e._getInputValues(),t)}))}},{key:"close",value:function(){this._submitButton.removeEventListener("submit",this._submitCallback),I(U(a.prototype),"close",this).call(this),this._form.reset(),this._closeCallback()}}])&&B(t.prototype,n),o&&B(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(j);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=N(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(i,e);var t,n,r,o=J(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e))._popup=e,t._lightboxCaption=t._popup.querySelector(".lightbox__caption"),t._lightboxImage=t._popup.querySelector(".lightbox__image"),t}return t=i,(n=[{key:"open",value:function(e){this._lightboxCaption.textContent=e.name,this._lightboxImage.src=e.link,this._lightboxImage.alt=e.name,V(H(i.prototype),"open",this).call(this)}}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(j);function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=t.name,this._userDescriptionElement=t.about,this._userAvatarElement=t.avatar}var t,n,r;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userNameElement.textContent,about:this._userDescriptionElement.textContent}}},{key:"setUserInfo",value:function(e){this._userNameElement.textContent=e.name,this._userDescriptionElement.textContent=e.about,this.setUserAvatar(e.avatar)}},{key:"setUserAvatar",value:function(e){this._userAvatarElement.src=e}}])&&G(t.prototype,n),r&&G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Z(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Z(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ne(e)););return e}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(i,e);var t,n,r,o=ee(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e))._popup=e,n._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__container"),n._submitButton=n._form.querySelector(".popup__save-button"),n._element=null,n._obj=null,n}return t=i,(n=[{key:"setEventListeners",value:function(){var e=this;Y(ne(i.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._element,e._obj,t)}))}},{key:"open",value:function(e,t){this._element=e,this._obj=t,Y(ne(i.prototype),"open",this).call(this)}}])&&X(t.prototype,n),r&&X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(j),oe=new k({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-16",headers:{authorization:"25068d5b-79ef-423f-8b22-b9922c31ad6c","Content-Type":"application/json"}}),ie=new O({renderer:function(e){var t=ce(e).generateCard();ie.addItem(t)},containerElement:m});function ae(e,t){e.target.querySelector(".popup__save-button").textContent=t}function ce(e){var t=new C({data:e,handleCardClick:function(e){pe.open(e)},handleLikeClick:function(){t.youLiked()?oe.removeLike(e).then((function(e){t.cardLikes=e.likes,t.renderAmountOfLikes(e.likes.length)})).then(t.toggleLikeBtnState()).catch((function(e){return console.log("Ошибка при удалении лайка: ".concat(e))})):oe.setLike(e).then((function(e){t.cardLikes=e.likes,t.renderAmountOfLikes(e.likes.length)})).then(t.toggleLikeBtnState()).catch((function(e){return console.log("Ошибка при добавлении лайка: ".concat(e))}))},handleDeleteIconClick:function(){ue.open(t,e)},myId:"7f651893ffa284663c078177"},"#card");return t}var ue=new re(p,(function(e,t,n){ae(n,"Удаление..."),oe.deleteCard(t).then(e.removeCard()).then((function(){ue.close(),ae(n,"Да")})).catch((function(e){return console.log("Ошибка при удалении карточки: ".concat(e))}))}));ue.setEventListeners();var se=new D(d,(function(e,t){ae(t,"Сохранение..."),oe.setAvatar(e.link).then((function(e){le.setUserAvatar(e.avatar)})).then((function(){se.close(),ae(t,"Сохранить")})).catch((function(e){return console.log("Ошибка при изменении аватара: ".concat(e))}))}),(function(){_e.removeErrors()}));se.setEventListeners(),y.addEventListener("click",(function(){se.open()}));var le=new K(_),fe=new D(o,(function(e,t){ae(t,"Сохранение..."),oe.setUser(e).then((function(e){le.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})).then((function(){fe.close(),ae(t,"Сохранить")})).catch((function(e){return console.log("Ошибка при изменении данных профиля: ".concat(e))}))}),(function(){de.removeErrors()}));fe.setEventListeners(),i.addEventListener("click",(function(){var e=le.getUserInfo(),t=e.name,n=e.about;c.value=t,u.value=n,fe.open()}));var pe=new z(v);pe.setEventListeners();var he=new D(s,(function(e,t){ae(t,"Добавление...");var n={name:name,link:link};n.name=e.title,n.link=e.link,oe.uploadCard(n).then((function(e){var t=ce(e).generateCard();he.close(),ie.addItem(t)})).then((function(){ae(t,"Сохранить")})).catch((function(e){return console.log("Ошибка при добавлении карточки: ".concat(e))}))}),(function(){ye.removeErrors()}));he.setEventListeners(),l.addEventListener("click",(function(){he.open()})),Promise.all([oe.getUser(),oe.getCards()]).then((function(e){return console.log("Подключено к серверу и работает!"),{user:e[0],cards:e[1]}})).then((function(e){return le.setUserInfo(e.user),e})).then((function(e){return e.cards.reverse()})).then((function(e){ie.render(e)})).catch((function(e){return console.log("Ошибка при попытке загрузить данные пользователя и карточки: ".concat(e))}));var de=new E(r,a);de.enableValidation();var ye=new E(r,f);ye.enableValidation();var _e=new E(r,h);_e.enableValidation()}]);